{"remainingRequest":"/Users/ericyang/Desktop/test-demo/file_demo/node_modules/babel-loader/lib/index.js!/Users/ericyang/Desktop/test-demo/file_demo/src/api/fileRequest.js","dependencies":[{"path":"/Users/ericyang/Desktop/test-demo/file_demo/src/api/fileRequest.js","mtime":1578556890388},{"path":"/Users/ericyang/Desktop/test-demo/file_demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ericyang/Desktop/test-demo/file_demo/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IE1lc3NhZ2UgfSBmcm9tICdlbGVtZW50LXVpJzsKdmFyIGZpbGVTZXJ2ZXIgPSBheGlvcy5jcmVhdGUoewogIC8vIGJhc2VVUkw6IHByb2Nlc3MuZW52LlZVRV9BUFBfQkFTRV9BUEksIC8vIHVybCA9IGJhc2UgdXJsICsgcmVxdWVzdCB1cmwKICAvLyB3aXRoQ3JlZGVudGlhbHM6IHRydWUsIC8vIHNlbmQgY29va2llcyB3aGVuIGNyb3NzLWRvbWFpbiByZXF1ZXN0cwogIHRpbWVvdXQ6IDEwMDAwIC8vIHJlcXVlc3QgdGltZW91dAoKfSk7IC8vIHJlcXVlc3QgaW50ZXJjZXB0b3IKCmZpbGVTZXJ2ZXIuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGZ1bmN0aW9uIChjb25maWcpIHsKICAvLyBkbyBzb21ldGhpbmcgYmVmb3JlIHJlcXVlc3QgaXMgc2VudAogIGNvbmZpZy5oZWFkZXJzID0gewogICAgJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJwogIH07CiAgcmV0dXJuIGNvbmZpZzsgLy8gICBpZiAoc3RvcmUuZ2V0dGVycy50b2tlbikgewogIC8vIGxldCBlYWNoIHJlcXVlc3QgY2FycnkgdG9rZW4KICAvLyBbJ1gtVG9rZW4nXSBpcyBhIGN1c3RvbSBoZWFkZXJzIGtleQogIC8vIHBsZWFzZSBtb2RpZnkgaXQgYWNjb3JkaW5nIHRvIHRoZSBhY3R1YWwgc2l0dWF0aW9uCiAgLy8gY29uZmlnLmhlYWRlcnNbJ1gtVG9rZW4nXSA9IGdldFRva2VuKCkKICAvLyAgIH0KICAvLyAgIHJldHVybiBjb25maWcKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgLy8gZG8gc29tZXRoaW5nIHdpdGggcmVxdWVzdCBlcnJvcgogIGNvbnNvbGUubG9nKGVycm9yKTsgLy8gZm9yIGRlYnVnCgogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOyAvLyByZXNwb25zZSBpbnRlcmNlcHRvcgoKZmlsZVNlcnZlci5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogIHZhciByZXMgPSByZXNwb25zZS5kYXRhOwogIHJldHVybiByZXM7Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIHZhciByZXN0ID0gZXJyb3IucmVzcG9uc2U7IC8vIGNvbnNvbGUubG9nKHJlc3QpCgogIGlmIChyZXN0KSB7CiAgICBpZiAocmVzdC5zdGF0dXMgPT09IDQwMCkgewogICAgICAvLyDmj5DnpLrplJnor68KICAgICAgTWVzc2FnZSh7CiAgICAgICAgbWVzc2FnZTogcmVzdC5kYXRhLmRlc2MsCiAgICAgICAgdHlwZTogJ2Vycm9yJwogICAgICB9KTsKICAgIH0KICB9IGVsc2UgewogICAgTWVzc2FnZSh7CiAgICAgIG1lc3NhZ2U6IGVycm9yLAogICAgICB0eXBlOiAnZXJyb3InCiAgICB9KTsKICB9CgogIGNvbnNvbGUuZXJyb3IoJ2VycicgKyBlcnJvcik7IC8vIGZvciBkZWJ1ZwoKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsKZXhwb3J0IGRlZmF1bHQgZmlsZVNlcnZlcjs="},{"version":3,"sources":["/Users/ericyang/Desktop/test-demo/file_demo/src/api/fileRequest.js"],"names":["axios","Message","fileServer","create","timeout","interceptors","request","use","config","headers","error","console","log","Promise","reject","response","res","data","rest","status","message","desc","type"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,YAAxB;AAEA,IAAMC,UAAU,GAAGF,KAAK,CAACG,MAAN,CAAa;AAC9B;AACA;AACAC,EAAAA,OAAO,EAAE,KAHqB,CAGf;;AAHe,CAAb,CAAnB,C,CAMA;;AACAF,UAAU,CAACG,YAAX,CAAwBC,OAAxB,CAAgCC,GAAhC,CACE,UAAAC,MAAM,EAAI;AACR;AACAA,EAAAA,MAAM,CAACC,OAAP,GAAiB;AACf,oBAAgB;AADD,GAAjB;AAGA,SAAOD,MAAP,CALQ,CAMR;AACA;AACA;AACA;AACA;AACA;AACA;AACD,CAdH,EAeE,UAAAE,KAAK,EAAI;AACP;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,EAFO,CAEY;;AACnB,SAAOG,OAAO,CAACC,MAAR,CAAeJ,KAAf,CAAP;AACD,CAnBH,E,CAsBA;;AACAR,UAAU,CAACG,YAAX,CAAwBU,QAAxB,CAAiCR,GAAjC,CACE,UAAAQ,QAAQ,EAAI;AACV,MAAMC,GAAG,GAAGD,QAAQ,CAACE,IAArB;AACA,SAAOD,GAAP;AACD,CAJH,EAKE,UAAAN,KAAK,EAAI;AACP,MAAMQ,IAAI,GAAGR,KAAK,CAACK,QAAnB,CADO,CAEP;;AACA,MAAIG,IAAJ,EAAU;AACR,QAAIA,IAAI,CAACC,MAAL,KAAgB,GAApB,EAAyB;AACvB;AACAlB,MAAAA,OAAO,CAAC;AAAEmB,QAAAA,OAAO,EAAEF,IAAI,CAACD,IAAL,CAAUI,IAArB;AAA2BC,QAAAA,IAAI,EAAE;AAAjC,OAAD,CAAP;AACD;AACF,GALD,MAKO;AACLrB,IAAAA,OAAO,CAAC;AAAEmB,MAAAA,OAAO,EAAEV,KAAX;AAAkBY,MAAAA,IAAI,EAAE;AAAxB,KAAD,CAAP;AACD;;AACDX,EAAAA,OAAO,CAACD,KAAR,CAAc,QAAQA,KAAtB,EAXO,CAWsB;;AAC7B,SAAOG,OAAO,CAACC,MAAR,CAAeJ,KAAf,CAAP;AACD,CAlBH;AAqBA,eAAeR,UAAf","sourcesContent":["import axios from 'axios'\nimport { Message } from 'element-ui'\n\nconst fileServer = axios.create({\n  // baseURL: process.env.VUE_APP_BASE_API, // url = base url + request url\n  // withCredentials: true, // send cookies when cross-domain requests\n  timeout: 10000 // request timeout\n})\n\n// request interceptor\nfileServer.interceptors.request.use(\n  config => {\n    // do something before request is sent\n    config.headers = {\n      'Content-Type': 'multipart/form-data'\n    }\n    return config\n    //   if (store.getters.token) {\n    // let each request carry token\n    // ['X-Token'] is a custom headers key\n    // please modify it according to the actual situation\n    // config.headers['X-Token'] = getToken()\n    //   }\n    //   return config\n  },\n  error => {\n    // do something with request error\n    console.log(error) // for debug\n    return Promise.reject(error)\n  }\n)\n\n// response interceptor\nfileServer.interceptors.response.use(\n  response => {\n    const res = response.data\n    return res\n  },\n  error => {\n    const rest = error.response\n    // console.log(rest)\n    if (rest) {\n      if (rest.status === 400) {\n        // 提示错误\n        Message({ message: rest.data.desc, type: 'error' })\n      }\n    } else {\n      Message({ message: error, type: 'error' })\n    }\n    console.error('err' + error) // for debug\n    return Promise.reject(error)\n  }\n)\n\nexport default fileServer\n"]}]}