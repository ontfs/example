{"remainingRequest":"/Users/ericyang/Desktop/test-demo/file_demo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ericyang/Desktop/test-demo/file_demo/src/views/Register.vue?vue&type=style&index=0&id=7e1a2286&lang=less&scoped=true&","dependencies":[{"path":"/Users/ericyang/Desktop/test-demo/file_demo/src/views/Register.vue","mtime":1578896588328},{"path":"/Users/ericyang/Desktop/test-demo/file_demo/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ericyang/Desktop/test-demo/file_demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/ericyang/Desktop/test-demo/file_demo/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/ericyang/Desktop/test-demo/file_demo/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ericyang/Desktop/test-demo/file_demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ericyang/Desktop/test-demo/file_demo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoucmVnaXN0ZXJfbGF5b3V0IHsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgaDEgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgbGVmdDogMTAwcHg7CiAgICB0b3A6IDYwcHg7CiAgfQp9Cg=="},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"register_layout account_wrap\">\n    <h1>\n      <img src=\"../assets/ontfsb.svg\" alt=\"\" />\n    </h1>\n    <el-card class=\"account_box-card\">\n      <div class=\"tab_change_account\">\n        <span @click=\"$router.push({ name: 'LoginWrap' })\">Sign In</span>\n        /\n        <span class=\"active\">Sign Up</span>\n      </div>\n      <div class=\"account_form\">\n        <el-form\n          :model=\"ruleForm\"\n          :rules=\"rules\"\n          ref=\"ruleForm\"\n          label-width=\"140px\"\n          class=\"demo-ruleForm\"\n        >\n          <el-form-item label=\"Account Name\" prop=\"userName\">\n            <el-input\n              placeholder=\"Please enter account name\"\n              v-model=\"ruleForm.userName\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"Password\" prop=\"password\">\n            <el-input\n              placeholder=\"Please enter password\"\n              type=\"password\"\n              v-model=\"ruleForm.password\"\n            ></el-input>\n          </el-form-item>\n        </el-form>\n        <div class=\"acc_btn\">\n          <el-button type=\"primary\" @click=\"submitForm('ruleForm')\"\n            >Sign Up</el-button\n          >\n        </div>\n      </div>\n    </el-card>\n  </div>\n</template>\n<script>\nimport { Register } from '@/api/role'\nexport default {\n  data() {\n    return {\n      ruleForm: {\n        userName: '',\n        password: ''\n      },\n      rules: {\n        userName: [\n          {\n            required: true,\n            message: 'Please enter account name',\n            trigger: 'blur'\n          },\n          {\n            pattern: /^[\\S]{4,12}$/,\n            min: 4,\n            max: 12,\n            message: '4~12 characters in length and cannot be empty!',\n            trigger: 'change'\n          }\n        ],\n        password: [\n          {\n            required: true,\n            message: 'Please enter password',\n            trigger: 'blur'\n          },\n          {\n            pattern: /^[\\S]{6,12}$/,\n            min: 6,\n            max: 12,\n            message: '6~12 characters in length and cannot be empty!',\n            trigger: 'change'\n          }\n        ]\n      }\n    }\n  },\n  methods: {\n    submitForm(formName) {\n      this.$refs[formName].validate(valid => {\n        if (valid) {\n          this.toRegister()\n        } else {\n          console.log('error submit!!')\n          return false\n        }\n      })\n    },\n    async toRegister() {\n      try {\n        let params = { ...this.ruleForm }\n        params.password = this.$utils.default.Encrypt(params.password)\n        let apires = await Register(params)\n        console.log(apires)\n        const { desc, result } = apires\n        if (desc === 'SUCCESS') {\n          this.$message({\n            message: 'Have fun. Stay cool. Change the world.',\n            type: 'success',\n            center: true,\n            duration: 2000\n          })\n          sessionStorage.setItem('userName', result.userName)\n          sessionStorage.setItem('ontId', result.ontId)\n          this.$router.push({ path: '/' })\n        } else {\n          this.$message({\n            message: desc,\n            type: 'error',\n            center: true,\n            duration: 2000\n          })\n        }\n      } catch (error) {\n        return error\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.register_layout {\n  position: relative;\n  h1 {\n    position: absolute;\n    left: 100px;\n    top: 60px;\n  }\n}\n</style>\n"]}]}