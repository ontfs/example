{"remainingRequest":"/Users/ericyang/Desktop/test-demo/file_demo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ericyang/Desktop/test-demo/file_demo/src/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ericyang/Desktop/test-demo/file_demo/src/views/Home.vue","mtime":1578907378170},{"path":"/Users/ericyang/Desktop/test-demo/file_demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ericyang/Desktop/test-demo/file_demo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/ericyang/Desktop/test-demo/file_demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ericyang/Desktop/test-demo/file_demo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKaW1wb3J0IHsgdXBsb2FkZmlsZSB9IGZyb20gJ0AvYXBpL2ZpbGUnCmltcG9ydCB7IGdldEZpbGVMaXN0LCBkb3dubG9hZEZpbGUgfSBmcm9tICdAL2FwaS9yb2xlJwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VyTmFtZTogJycsCiAgICAgIG9udElkOiAnJywKICAgICAgZmlsZUxpc3Q6IFtdLAogICAgICBsb2NhbEZpbGU6IHt9LAogICAgICBmb3JtOiB7CiAgICAgICAgcGFzc3dvcmQ6ICcnCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgcGFzc3dvcmQ6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICAgIG1lc3NhZ2U6ICdQbGVhc2UgZW50ZXIgZmlsZSBlbmNyeXB0aW9uIGNvZGUnLAogICAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIHBhdHRlcm46IC9eW1xTXXs2LDEyfSQvLAogICAgICAgICAgICBtaW46IDYsCiAgICAgICAgICAgIG1heDogMTIsCiAgICAgICAgICAgIG1lc3NhZ2U6ICc2fjEyIGNoYXJhY3RlcnMgaW4gbGVuZ3RoIGFuZCBjYW5ub3QgYmUgZW1wdHkhJywKICAgICAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgICAgIH0KICAgICAgICBdCiAgICAgIH0sCiAgICAgIGZpbGVPYmplY3Q6IG51bGwsCiAgICAgIHRhYmxlRGF0YTogWwogICAgICAgIC8vIHsKICAgICAgICAvLyAgIGZpbGVOYW1lOiAnMjAxNi0wNS0wMicsCiAgICAgICAgLy8gICBjcmVhdGVUaW1lOiAn546L5bCP6JmOJywKICAgICAgICAvLyAgIGZpbGVIYXNoOiAn5LiK5rW35biC5pmu6ZmA5Yy66YeR5rKZ5rGf6LevIDE1MTgg5byEJwogICAgICAgIC8vIH0sCiAgICAgICAgLy8gewogICAgICAgIC8vICAgZmlsZU5hbWU6ICcyMDE2LTA1LTA0JywKICAgICAgICAvLyAgIGNyZWF0ZVRpbWU6ICfnjovlsI/omY4nLAogICAgICAgIC8vICAgZmlsZUhhc2g6ICfkuIrmtbfluILmma7pmYDljLrph5HmspnmsZ/ot68gMTUxNyDlvIQnCiAgICAgICAgLy8gfSwKICAgICAgICAvLyB7CiAgICAgICAgLy8gICBmaWxlTmFtZTogJzIwMTYtMDUtMDEnLAogICAgICAgIC8vICAgY3JlYXRlVGltZTogJ+eOi+Wwj+iZjicsCiAgICAgICAgLy8gICBmaWxlSGFzaDogJ+S4iua1t+W4guaZrumZgOWMuumHkeaymeaxn+i3ryAxNTE5IOW8hCcKICAgICAgICAvLyB9LAogICAgICAgIC8vIHsKICAgICAgICAvLyAgIGZpbGVOYW1lOiAnMjAxNi0wNS0wMycsCiAgICAgICAgLy8gICBjcmVhdGVUaW1lOiAn546L5bCP6JmOJywKICAgICAgICAvLyAgIGZpbGVIYXNoOiAn5LiK5rW35biC5pmu6ZmA5Yy66YeR5rKZ5rGf6LevIDE1MTYg5byEJwogICAgICAgIC8vIH0KICAgICAgXSwKICAgICAgZG9tYWluOiBwcm9jZXNzLmVudi5WVUVfQVBQX0RPTUFJTgogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgbG9nT3V0KCkgewogICAgICBzZXNzaW9uU3RvcmFnZS5jbGVhcigpCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogJy9sb2dpbicgfSkKICAgIH0sCiAgICB0ZXN0KCkgewogICAgICBjb25zdCByZXMgPSB0aGlzLiR1dGlscy5kZWZhdWx0LkVuY3J5cHQoJ3Rlc3Rwd2QnKQogICAgICBjb25zb2xlLmxvZyhyZXMpCiAgICAgIGNvbnN0IGFhYWEgPSB0aGlzLiR1dGlscy5kZWZhdWx0LkRlY3J5cHQocmVzKQogICAgICBjb25zb2xlLmxvZyhhYWFhKQogICAgfSwKICAgIGhhbmRsZVJlbW92ZShmaWxlLCBmaWxlTGlzdCkgewogICAgICB0aGlzLmZpbGVPYmplY3QgPSBudWxsCiAgICB9LAogICAgaGFuZGxlUHJldmlldyhmaWxlKSB7CiAgICAgIGNvbnNvbGUubG9nKGZpbGUpCiAgICB9LAogICAgaGFuZGxlQ2hhbmdlKGZpbGUsIGZpbGVMaXN0KSB7CiAgICAgIGNvbnNvbGUubG9nKGZpbGUpCiAgICAgIC8vIHRoaXMubG9jYWxGaWxlID0gZmlsZS5yYXcKICAgICAgLy8gbGV0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCkKICAgICAgLy8gcmVhZGVyLnJlYWRBc0RhdGFVUkwodGhpcy5sb2NhbEZpbGUpIC8vIOi/memHjOS5n+WPr+S7peebtOaOpeWGmeWPguaVsGV2ZW50LnJhdwoKICAgICAgLy8g6L2s5o2i5oiQ5Yqf5ZCO55qE5pON5L2c77yMcmVhZGVyLnJlc3VsdOWNs+S4uui9rOaNouWQjueahERhdGFVUkwg77yMCiAgICAgIC8vIOWug+S4jemcgOimgeiHquW3seWumuS5ie+8jOS9oOWPr+S7pWNvbnNvbGUubG9nKHJlYWRlci5yZXN1bHQp55yL5LiA5LiLCiAgICAgIC8vIHJlYWRlci5vbmxvYWQgPSAoKSA9PiB7CiAgICAgIC8vICAgY29uc29sZS5sb2cocmVhZGVyLnJlc3VsdCkKICAgICAgLy8gfQogICAgfSwKICAgIGZpbGV1cGxvYWQocGFyYW1zKSB7CiAgICAgIHRoaXMuZmlsZU9iamVjdCA9IHBhcmFtcy5maWxlCiAgICB9LAogICAgYmVmb3JlQXZhdGFyVXBsb2FkKGZpbGUpIHsKICAgICAgY29uc3QgaXNMdDJNID0gZmlsZS5zaXplIC8gMTAyNCAvIDEwMjQgPCAyCiAgICAgIGlmICghaXNMdDJNKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcignT25seSBmaWxlcyB3aXRoaW4gMiBNQiBhcmUgYWxsb3dlZCcpCiAgICAgIH0KICAgICAgcmV0dXJuIGlzTHQyTQogICAgfSwKICAgIHN1Ym1pdEZvcm0oZm9ybU5hbWUpIHsKICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0udmFsaWRhdGUodmFsaWQgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgaWYgKCF0aGlzLmZpbGVPYmplY3QpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ1BsZWFzZSBzZWxlY3QgYSBmaWxlIScpCiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLmhhbmRsZXJVcGxvYWQoKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3Igc3VibWl0ISEnKQogICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIGFzeW5jIGhhbmRsZXJVcGxvYWQoKSB7CiAgICAgIGxldCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpCiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIHRoaXMuZmlsZU9iamVjdCkKICAgICAgZm9ybURhdGEuYXBwZW5kKCdvbnRJZCcsIHRoaXMub250SWQpCiAgICAgIGZvcm1EYXRhLmFwcGVuZCgKICAgICAgICAncGFzc3dvcmQnLAogICAgICAgIHRoaXMuJHV0aWxzLmRlZmF1bHQuRW5jcnlwdCh0aGlzLmZvcm0ucGFzc3dvcmQpCiAgICAgICkKCiAgICAgIGxldCBkYXRhID0gZm9ybURhdGEKICAgICAgY29uc3QgbG9hZGluZyA9IHRoaXMuJGxvYWRpbmcoewogICAgICAgIGxvY2s6IHRydWUsCiAgICAgICAgdGV4dDogJ0xvYWRpbmcnLAogICAgICAgIHNwaW5uZXI6ICdlbC1pY29uLWxvYWRpbmcnLAogICAgICAgIGJhY2tncm91bmQ6ICdyZ2JhKDAsIDAsIDAsIDAuMiknCiAgICAgIH0pCiAgICAgIGxldCByZXNhcGkgPSBhd2FpdCBheGlvcy5wb3N0KAogICAgICAgIHByb2Nlc3MuZW52LlZVRV9BUFBfQVBJICsgJy9hcGkvdjEvZGF0YS91cGxvYWQnLAogICAgICAgIGRhdGEsCiAgICAgICAgewogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICApCiAgICAgIC8vIGNvbnNvbGUubG9nKHJlc2FwaSkKICAgICAgY29uc3QgeyBkZXNjLCBlcnJvciwgcmVzdWx0IH0gPSByZXNhcGkuZGF0YQogICAgICBpZiAoZGVzYyA9PT0gJ1NVQ0NFU1MnICYmIGVycm9yID09PSAwKSB7CiAgICAgICAgbG9hZGluZy5jbG9zZSgpCiAgICAgICAgdGhpcy5vcGVuKCkKICAgICAgICB0aGlzLnJlc2V0Rm9ybSgnZm9ybScpCiAgICAgICAgdGhpcy4kcmVmcy51cGxvYWQuY2xlYXJGaWxlcygpCiAgICAgICAgdGhpcy5maWxlT2JqZWN0ID0gbnVsbAogICAgICAgIHRoaXMuaGFuZGxlckdldEZpbGUoKQogICAgICB9IGVsc2UgewogICAgICAgIGxvYWRpbmcuY2xvc2UoKQogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgICAgIG1lc3NhZ2U6ICd1cGxvYWQgZmFpbCwgcGxlYXNlIHRyeSBhZ2FpbiEnCiAgICAgICAgfSkKICAgICAgfQogICAgfSwKICAgIG9wZW4oKSB7CiAgICAgIHRoaXMuJGFsZXJ0KAogICAgICAgICdGaWxlIHVwbG9hZGVkIHN1Y2Nlc3NmdWxseSEgSXQgd2lsbCBiZSBhdmFpbGFibGUgZm9yIGFjY2VzcyBpbiBhcHByb3hpbWF0ZWx5IDIgbWludXRlcy4nLAogICAgICAgICdUaXBzJywKICAgICAgICB7CiAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ0NvbmZpcm0nLAogICAgICAgICAgY2FsbGJhY2s6IGFjdGlvbiA9PiB7fQogICAgICAgIH0KICAgICAgKQogICAgfSwKICAgIHJlc2V0Rm9ybShmb3JtTmFtZSkgewogICAgICB0aGlzLiRyZWZzW2Zvcm1OYW1lXS5yZXNldEZpZWxkcygpCiAgICB9LAogICAgYXN5bmMgaGFuZGxlckdldEZpbGUoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgbGV0IGFwaXJlcyA9IGF3YWl0IGdldEZpbGVMaXN0KHRoaXMub250SWQpCiAgICAgICAgY29uc3QgeyBkZXNjLCBlcnJvciwgcmVzdWx0IH0gPSBhcGlyZXMKICAgICAgICBpZiAoZGVzYyA9PT0gJ1NVQ0NFU1MnICYmIGVycm9yID09PSAwKSB7CiAgICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IFsuLi5yZXN1bHRdCiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIHRoaXMudGFibGVEYXRhID0gW10KICAgICAgfQogICAgfSwKICAgIG9wZW5Eb3dubG9hZChmaWxlSGFzaCkgewogICAgICB0aGlzLiRwcm9tcHQoJ1BsZWFzZSBlbnRlciBmaWxlIGRlY3J5cHRpb24gY29kZScsICdUaXBzJywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAnQ29uZmlybScsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ0NhbmNlbCcsCiAgICAgICAgaW5wdXRQYXR0ZXJuOiAvXltcU117NiwxMn0kLywKICAgICAgICBpbnB1dFR5cGU6ICdwYXNzd29yZCcsCiAgICAgICAgaW5wdXRFcnJvck1lc3NhZ2U6ICc2fjEyIGNoYXJhY3RlcnMgaW4gbGVuZ3RoIGFuZCBjYW5ub3QgYmUgZW1wdHkhJwogICAgICB9KQogICAgICAgIC50aGVuKCh7IHZhbHVlIH0pID0+IHsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHZhbHVlKQogICAgICAgICAgdGhpcy5oYW5kbGVyRG93bmxvYWRGaWxlKGZpbGVIYXNoLCB2YWx1ZSkKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoKSA9PiB7fSkKICAgIH0sCiAgICBhc3luYyBoYW5kbGVyRG93bmxvYWRGaWxlKGZpbGVIYXNoLCBwYXNzd29yZCkgewogICAgICBsZXQgcGFyYW1zID0gewogICAgICAgIGZpbGVIYXNoLAogICAgICAgIHBhc3N3b3JkOiB0aGlzLiR1dGlscy5kZWZhdWx0LkVuY3J5cHQocGFzc3dvcmQpCiAgICAgIH0KICAgICAgY29uc3QgbG9hZGluZyA9IHRoaXMuJGxvYWRpbmcoewogICAgICAgIGxvY2s6IHRydWUsCiAgICAgICAgdGV4dDogJ0xvYWRpbmcnLAogICAgICAgIHNwaW5uZXI6ICdlbC1pY29uLWxvYWRpbmcnLAogICAgICAgIGJhY2tncm91bmQ6ICdyZ2JhKDAsIDAsIDAsIDAuMiknCiAgICAgIH0pCiAgICAgIHRyeSB7CiAgICAgICAgbGV0IGFwaXJlcyA9IGF3YWl0IGRvd25sb2FkRmlsZShwYXJhbXMpCiAgICAgICAgY29uc3QgeyBlcnJvciwgZGVzYywgcmVzdWx0IH0gPSBhcGlyZXMKICAgICAgICBpZiAoZXJyb3IgPT09IDAgJiYgZGVzYyA9PT0gJ1NVQ0NFU1MnKSB7CiAgICAgICAgICBsb2FkaW5nLmNsb3NlKCkKICAgICAgICAgIHdpbmRvdy5vcGVuKHJlc3VsdCwgJ19zZWxmJykKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbGV0IHN0ciA9ICcnCiAgICAgICAgICBpZiAoCiAgICAgICAgICAgIGRlc2MgPT0KICAgICAgICAgICAgJ25vIGF2YWlsYWJsZSBmcyBub2RlcyB0byBkb3dubG9hZCBmaWxlOiBubyBub2RlIGhhZCBjb21taXQgcGRwIHByb3ZlIGRhdGEnCiAgICAgICAgICApIHsKICAgICAgICAgICAgc3RyID0KICAgICAgICAgICAgICAnVXBsb2FkaW5nIGZpbGUgdG8gT05URlMgVGVzdCBOZXQgcmlnaHQgbm93LiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyIScKICAgICAgICAgIH0gZWxzZSBpZiAoZGVzYyA9PSAnd3JvbmcgcGFzc3dvcmQnKSB7CiAgICAgICAgICAgIHN0ciA9ICdXcm9uZyBkZWNyeXB0aW9uIGNvZGUuIFBsZWFzZSB0cnkgYWdhaW4uJwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgc3RyID0gJ0Vycm9yLiBQbGVhc2UgdHJ5IGFnYWluIScKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICB0eXBlOiAnZXJyb3InLAogICAgICAgICAgICBtZXNzYWdlOiBzdHIKICAgICAgICAgIH0pCiAgICAgICAgICBsb2FkaW5nLmNsb3NlKCkKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgbG9hZGluZy5jbG9zZSgpCiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLnVzZXJOYW1lID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndXNlck5hbWUnKQogICAgdGhpcy5vbnRJZCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ29udElkJykKICAgIHRoaXMuaGFuZGxlckdldEZpbGUoKQogIH0KfQo="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0GA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"home\">\n    <el-card class=\"home_card accout_header\">\n      <h1>\n        <img src=\"../assets/ontfsb.svg\" alt=\"\" />\n      </h1>\n      <span class=\"account_name\">Account: {{ userName }}</span>\n      <span class=\"account_name\">ONT ID: {{ ontId }}</span>\n      <el-button type=\"text\" @click=\"logOut\">Sign out</el-button>\n    </el-card>\n    <el-card class=\"home_card\">\n      <div class=\"file_wrap\">\n        <el-form ref=\"form\" :rules=\"rules\" :model=\"form\" label-width=\"180px\">\n          <el-form-item label=\"File encryption code\" prop=\"password\">\n            <el-input\n              autocomplete=\"off\"\n              type=\"password\"\n              v-model=\"form.password\"\n              placeholder=\"Create an encryption code\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"File\">\n            <el-upload\n              ref=\"upload\"\n              class=\"upload-demo\"\n              action\n              :on-change=\"handleChange\"\n              :on-remove=\"handleRemove\"\n              :file-list=\"fileList\"\n              :http-request=\"fileupload\"\n              :limit=\"1\"\n              :before-upload=\"beforeAvatarUpload\"\n            >\n              <el-button size=\"small\" type=\"primary\">Select</el-button>\n              <div slot=\"tip\" class=\"el-upload__tip\">\n                Good news! You can upload files up to 2 MB at a time.\n              </div>\n            </el-upload>\n          </el-form-item>\n        </el-form>\n        <el-button @click=\"submitForm('form')\" size=\"small\" type=\"primary\"\n          >Upload</el-button\n        >\n      </div>\n    </el-card>\n    <el-card class=\"home_card\">\n      <el-table\n        empty-text=\"No Data\"\n        :data=\"tableData\"\n        border\n        style=\"width: 100%\"\n      >\n        <el-table-column prop=\"fileName\" label=\"File Name\" width=\"220\">\n        </el-table-column>\n        <el-table-column prop=\"fileHash\" label=\"File Hash\"> </el-table-column>\n        <el-table-column\n          prop=\"txHash\"\n          label=\"Transation Hash\"\n          align=\"center\"\n          width=\"240\"\n        >\n          <template slot-scope=\"scope\">\n            <a\n              class=\"s-color\"\n              target=\"_blank\"\n              :href=\"domain + '/transaction/' + scope.row.txHash\"\n              >{{\n                scope.row.txHash.substr(0, 8) +\n                  '...' +\n                  scope.row.txHash.substr(56, 8)\n              }}</a\n            >\n          </template>\n        </el-table-column>\n        <el-table-column\n          prop=\"createTime\"\n          align=\"center\"\n          label=\"Upload Date\"\n          width=\"220\"\n        >\n          <template slot-scope=\"scope\">\n            {{ $utils.default.HelperTools.getTransDate(scope.row.createTime) }}\n          </template>\n        </el-table-column>\n        <el-table-column label=\"Action\" align=\"center\" width=\"140\">\n          <template slot-scope=\"scope\">\n            <el-button\n              @click=\"openDownload(scope.row.fileHash)\"\n              type=\"text\"\n              size=\"small\"\n              >Download</el-button\n            >\n          </template>\n        </el-table-column>\n      </el-table>\n    </el-card>\n    <!-- <el-button @click=\"open\">Click</el-button> -->\n    <el-card\n      ><div style=\"text-align: center; font-size: 14px;\">\n        This is an online software demo powered by Ontology.\n      </div></el-card\n    >\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport { uploadfile } from '@/api/file'\nimport { getFileList, downloadFile } from '@/api/role'\n\nexport default {\n  data() {\n    return {\n      userName: '',\n      ontId: '',\n      fileList: [],\n      localFile: {},\n      form: {\n        password: ''\n      },\n      rules: {\n        password: [\n          {\n            required: true,\n            message: 'Please enter file encryption code',\n            trigger: 'blur'\n          },\n          {\n            pattern: /^[\\S]{6,12}$/,\n            min: 6,\n            max: 12,\n            message: '6~12 characters in length and cannot be empty!',\n            trigger: 'change'\n          }\n        ]\n      },\n      fileObject: null,\n      tableData: [\n        // {\n        //   fileName: '2016-05-02',\n        //   createTime: '王小虎',\n        //   fileHash: '上海市普陀区金沙江路 1518 弄'\n        // },\n        // {\n        //   fileName: '2016-05-04',\n        //   createTime: '王小虎',\n        //   fileHash: '上海市普陀区金沙江路 1517 弄'\n        // },\n        // {\n        //   fileName: '2016-05-01',\n        //   createTime: '王小虎',\n        //   fileHash: '上海市普陀区金沙江路 1519 弄'\n        // },\n        // {\n        //   fileName: '2016-05-03',\n        //   createTime: '王小虎',\n        //   fileHash: '上海市普陀区金沙江路 1516 弄'\n        // }\n      ],\n      domain: process.env.VUE_APP_DOMAIN\n    }\n  },\n  methods: {\n    logOut() {\n      sessionStorage.clear()\n      this.$router.push({ path: '/login' })\n    },\n    test() {\n      const res = this.$utils.default.Encrypt('testpwd')\n      console.log(res)\n      const aaaa = this.$utils.default.Decrypt(res)\n      console.log(aaaa)\n    },\n    handleRemove(file, fileList) {\n      this.fileObject = null\n    },\n    handlePreview(file) {\n      console.log(file)\n    },\n    handleChange(file, fileList) {\n      console.log(file)\n      // this.localFile = file.raw\n      // let reader = new FileReader()\n      // reader.readAsDataURL(this.localFile) // 这里也可以直接写参数event.raw\n\n      // 转换成功后的操作，reader.result即为转换后的DataURL ，\n      // 它不需要自己定义，你可以console.log(reader.result)看一下\n      // reader.onload = () => {\n      //   console.log(reader.result)\n      // }\n    },\n    fileupload(params) {\n      this.fileObject = params.file\n    },\n    beforeAvatarUpload(file) {\n      const isLt2M = file.size / 1024 / 1024 < 2\n      if (!isLt2M) {\n        this.$message.error('Only files within 2 MB are allowed')\n      }\n      return isLt2M\n    },\n    submitForm(formName) {\n      this.$refs[formName].validate(valid => {\n        if (valid) {\n          if (!this.fileObject) {\n            return this.$message.error('Please select a file!')\n          }\n          this.handlerUpload()\n        } else {\n          console.log('error submit!!')\n          return false\n        }\n      })\n    },\n    async handlerUpload() {\n      let formData = new FormData()\n      formData.append('file', this.fileObject)\n      formData.append('ontId', this.ontId)\n      formData.append(\n        'password',\n        this.$utils.default.Encrypt(this.form.password)\n      )\n\n      let data = formData\n      const loading = this.$loading({\n        lock: true,\n        text: 'Loading',\n        spinner: 'el-icon-loading',\n        background: 'rgba(0, 0, 0, 0.2)'\n      })\n      let resapi = await axios.post(\n        process.env.VUE_APP_API + '/api/v1/data/upload',\n        data,\n        {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        }\n      )\n      // console.log(resapi)\n      const { desc, error, result } = resapi.data\n      if (desc === 'SUCCESS' && error === 0) {\n        loading.close()\n        this.open()\n        this.resetForm('form')\n        this.$refs.upload.clearFiles()\n        this.fileObject = null\n        this.handlerGetFile()\n      } else {\n        loading.close()\n        this.$message({\n          type: 'error',\n          message: 'upload fail, please try again!'\n        })\n      }\n    },\n    open() {\n      this.$alert(\n        'File uploaded successfully! It will be available for access in approximately 2 minutes.',\n        'Tips',\n        {\n          confirmButtonText: 'Confirm',\n          callback: action => {}\n        }\n      )\n    },\n    resetForm(formName) {\n      this.$refs[formName].resetFields()\n    },\n    async handlerGetFile() {\n      try {\n        let apires = await getFileList(this.ontId)\n        const { desc, error, result } = apires\n        if (desc === 'SUCCESS' && error === 0) {\n          this.tableData = [...result]\n        }\n      } catch (error) {\n        this.tableData = []\n      }\n    },\n    openDownload(fileHash) {\n      this.$prompt('Please enter file decryption code', 'Tips', {\n        confirmButtonText: 'Confirm',\n        cancelButtonText: 'Cancel',\n        inputPattern: /^[\\S]{6,12}$/,\n        inputType: 'password',\n        inputErrorMessage: '6~12 characters in length and cannot be empty!'\n      })\n        .then(({ value }) => {\n          // console.log(value)\n          this.handlerDownloadFile(fileHash, value)\n        })\n        .catch(() => {})\n    },\n    async handlerDownloadFile(fileHash, password) {\n      let params = {\n        fileHash,\n        password: this.$utils.default.Encrypt(password)\n      }\n      const loading = this.$loading({\n        lock: true,\n        text: 'Loading',\n        spinner: 'el-icon-loading',\n        background: 'rgba(0, 0, 0, 0.2)'\n      })\n      try {\n        let apires = await downloadFile(params)\n        const { error, desc, result } = apires\n        if (error === 0 && desc === 'SUCCESS') {\n          loading.close()\n          window.open(result, '_self')\n        } else {\n          let str = ''\n          if (\n            desc ==\n            'no available fs nodes to download file: no node had commit pdp prove data'\n          ) {\n            str =\n              'Uploading file to ONTFS Test Net right now. Please try again later!'\n          } else if (desc == 'wrong password') {\n            str = 'Wrong decryption code. Please try again.'\n          } else {\n            str = 'Error. Please try again!'\n          }\n          this.$message({\n            type: 'error',\n            message: str\n          })\n          loading.close()\n        }\n      } catch (error) {\n        loading.close()\n      }\n    }\n  },\n  mounted() {\n    this.userName = sessionStorage.getItem('userName')\n    this.ontId = sessionStorage.getItem('ontId')\n    this.handlerGetFile()\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.home {\n  max-width: 1440px;\n  margin: 0 auto;\n  width: 100%;\n  height: 100%;\n  padding: 20px;\n  .home_card {\n    margin-bottom: 20px;\n  }\n  .accout_header {\n    text-align: right;\n    .account_name {\n      margin-right: 50px;\n    }\n  }\n\n  .file_wrap {\n    width: 100%;\n    max-width: 400px;\n    .upload-demo {\n      height: 150px;\n    }\n  }\n}\n/deep/.el-card__body {\n  position: relative;\n  h1 {\n    position: absolute;\n    left: 20px;\n    top: 50%;\n    transform: translateY(-50%);\n    img {\n      width: 110px;\n    }\n  }\n}\na.s-color {\n  color: #409eff;\n  cursor: pointer;\n}\n/deep/.el-upload {\n  transform: translateX(150px;);\n}\n</style>\n"]}]}